#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ”§ Preparing to style, test, and build your project before committing...'

# Check Prettier standards
yarn prettier ||
(
    echo 'ğŸš«ğŸš«ğŸš« Prettier check failed. Please run npm run prettier:fix, review the changes, and try committing again.';
    false;
)

# Check ESLint Standards
yarn lint ||
(
    echo 'âš ï¸âš ï¸âš ï¸ ESLint check failed. Please review the errors above, make the necessary changes, and try committing again.';
    false;
)

# Attempt to build the project
echo 'âœ…âœ…âœ… Code review passed. Attempting to build the project now...'

yarn build ||
(
    echo 'âŒğŸ”§âŒ Build failed. Please review the errors above to resolve the issues.';
    false;
)

# If everything passes, commit the changes
echo 'ğŸ‰ğŸ‰ğŸ‰ All checks passed. Proceeding to commit...'